@use "../helpers" as *;

:root {
  --app-bg: #f3f4f6;
  --app-surface: #ffffff;
  --app-surface-muted: #f8fafc;
  --app-border: #e2e8f0;
  --app-text: #1f2937;
  --app-text-muted: #4b5563;
  --app-accent: #1677ff;
  --app-shadow: 0 rem(8) rem(20) rgba(15, 23, 42, 0.08);
  --app-shadow-soft: 0 rem(4) rem(12) rgba(15, 23, 42, 0.06);
}

body {
  background: var(--app-bg);
  color: var(--app-text);
  overflow-x: hidden;
}

.app-layout {
  background: var(--app-bg);
}

.app-layout__inner {
  background: var(--app-bg);
  min-width: 0;
}

.app-header {
  height: rem(64);
  line-height: rem(64);
  background: var(--app-surface);
  border-bottom: 1px solid var(--app-border);
}

.app-content {
  padding: rem(20);
  background: var(--app-bg);
  min-width: 0;
  overflow: hidden;
}

.auth-layout {
  background: var(--app-bg);
}

.auth-content {
  display: flex;
  align-items: center;
  justify-content: center;
}

.auth-shell {
  width: 100%;
  max-width: rem(560);
}

.auth-layout .page-shell__stack {
  background: transparent;
  border-color: transparent;
  box-shadow: none;
  padding: 0;
}

.auth-layout .page-shell__card {
  background: transparent;
  border: 0;
  box-shadow: none;
  padding: 0;
}

.auth-layout .page-shell__card .ant-card {
  border: 1px solid #e4e9f0;
  box-shadow: 0 rem(10) rem(28) rgba(15, 23, 42, 0.08);
}

.auth-layout .page-shell__card .ant-card-body {
  padding: rem(24);
}

.auth-layout .page-shell__head {
  text-align: center;
}

.auth-layout .page-shell__head .ant-typography {
  margin-bottom: rem(6);
}

.auth-layout .ant-form-item {
  margin-bottom: rem(14);
}

.auth-layout .ant-form-item-label {
  padding-bottom: rem(4);
}

.auth-layout .ant-form-item-label > label {
  line-height: 1.2;
}

.auth-layout .ant-form-item-control-input {
  min-height: auto;
}

.auth-layout .ant-input,
.auth-layout .ant-input-affix-wrapper,
.auth-layout .ant-input-textarea {
  padding: rem(8) rem(12);
}

.auth-layout .ant-btn {
  height: rem(40);
}

.auth-layout .ant-btn + .ant-btn {
  margin-top: rem(8);
}

.page-shell {
  background: transparent;
}

.page-shell__stack {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.7) 0%, rgba(248, 250, 252, 0.9) 100%);
  border: 1px solid var(--app-border);
  border-radius: rem(16);
  padding: rem(20);
  box-shadow: var(--app-shadow);
}

.page-shell__head .ant-typography {
  color: var(--app-text);
}

.page-shell__head .ant-typography.ant-typography-secondary {
  color: var(--app-text-muted);
}

.page-shell__card {
  border-color: #d1d9e2;
  box-shadow: var(--app-shadow-soft);
  background: var(--app-surface);
  border-radius: rem(14);
}

.ant-card {
  border-color: var(--app-border);
  border-radius: rem(12);
  box-shadow: var(--app-shadow-soft);
  background: var(--app-surface);
}

.ant-card-head {
  border-bottom: 1px solid var(--app-border);
  background: linear-gradient(180deg, #ffffff 0%, #f8fafc 100%);
}

.ant-card-body {
  padding: rem(20);
}

.page-shell__card .ant-card {
  border-color: #dbe2ea;
}

.page-shell__card .ant-card + .ant-card {
  margin-top: rem(16);
}

.ant-tag {
  border-radius: rem(999);
  padding: 0 rem(10);
  font-weight: 600;
}

.ant-btn {
  border-radius: rem(10);
}

.ant-btn-primary {
  box-shadow: 0 rem(6) rem(12) rgba(22, 119, 255, 0.2);
}

.ant-typography {
  color: var(--app-text);
}

.ant-typography.ant-typography-secondary {
  color: var(--app-text-muted);
}

.ant-statistic-title {
  color: var(--app-text-muted);
  font-size: rem(12);
  text-transform: uppercase;
  letter-spacing: 0.04em;
}

.ant-statistic-content {
  color: var(--app-text);
}

.ant-list-item {
  padding-left: 0;
}

.ant-layout-sider {
  background: var(--app-surface);
  border-right: 1px solid var(--app-border);
}

.ant-menu {
  border-right: none;
  padding: rem(8);
}

.ant-menu-item {
  border-radius: rem(10);
  margin: rem(4) 0;
}

.ant-menu-item-selected {
  background: rgba(22, 119, 255, 0.12);
}

.ant-card + .ant-card {
  margin-top: rem(16);
}

.ant-row {
  row-gap: rem(16);
}

.ant-space-vertical > .ant-space-item:not(:last-child) {
  margin-bottom: rem(8);
}

.ant-form-item-label > label {
  color: var(--app-text);
  font-weight: 600;
}

.ant-input,
.ant-input-affix-wrapper,
.ant-input-textarea {
  border-radius: rem(10);
  border-color: var(--app-border);
}

.ant-select-selector {
  border-radius: rem(10) !important;
  border-color: var(--app-border) !important;
}

.ant-empty-description {
  color: var(--app-text-muted);
}

@media (max-width: 768px) {
  .app-content {
    padding: rem(16);
  }

  .ant-card-body {
    padding: rem(16);
  }
}

@include tablet {
  .app-header {
    height: rem(56);
    line-height: rem(56);
  }

  .app-content {
    padding: rem(16);
  }

  .page-shell__stack {
    padding: rem(16);
    border-radius: rem(14);
  }

  .ant-card-body {
    padding: rem(16);
  }
}

@include mobile {
  .app-header {
    height: rem(52);
    line-height: rem(52);
    padding: 0 rem(12);
  }

  .app-content {
    padding: rem(12);
  }

  .page-shell__stack {
    padding: rem(12);
    border-radius: rem(12);
  }

  .ant-space-vertical > .ant-space-item:not(:last-child) {
    margin-bottom: rem(6);
  }

  .ant-card {
    border-radius: rem(10);
  }

  .ant-card-body {
    padding: rem(12);
  }

  .ant-btn {
    width: 100%;
  }

  .ant-btn + .ant-btn {
    margin-top: rem(8);
  }

  .ant-menu {
    padding: rem(6);
  }
}

.mobile-nav {
  display: none;
}

@include mobile {
  .mobile-nav {
    display: block;
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 1200;
    padding: rem(8) rem(12) rem(12);
  }

  .mobile-nav__inner {
    background: var(--app-surface);
    border: 1px solid var(--app-border);
    border-radius: rem(16);
    box-shadow:
      0 rem(10) rem(24) rgba(15, 23, 42, 0.12),
      0 0 rem(18) rgba(18, 120, 160, 0.2);
    padding: rem(8) rem(12);
    margin: 0 auto;
    max-width: rem(520);
  }

  .mobile-nav__menu {
    display: flex;
    align-items: center;
    gap: rem(8);
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    scroll-padding: rem(12);
    -webkit-overflow-scrolling: touch;
    scrollbar-width: thin;
    scrollbar-color: rgba(18, 120, 160, 0.45) transparent;
    padding: 0 rem(8) rem(4);
    justify-content: center;
  }

  .mobile-nav__item {
    flex: 0 0 auto;
    min-width: rem(52);
    height: rem(52);
    border: 0;
    background: transparent;
    border-radius: rem(12);
    display: grid;
    place-items: center;
    color: var(--app-text-muted);
    transition: background 160ms ease, color 160ms ease;
    font-size: rem(20);
    scroll-snap-align: center;
  }

  .mobile-nav__item.is-active {
    color: var(--app-accent);
    background: rgba(22, 119, 255, 0.12);
  }

  .mobile-nav__menu::-webkit-scrollbar {
    height: rem(6);
  }

  .mobile-nav__menu::-webkit-scrollbar-thumb {
    background: rgba(18, 120, 160, 0.45);
    border-radius: rem(999);
  }

  .app-content {
    padding-bottom: rem(84);
  }
}

.map-page {
  height: 100%;
  width: 100%;
}

.map-page__card {
  height: calc(100vh - rem(64) - rem(32));
  width: 100%;
}

.map-page__card .ant-card-body {
  height: 100%;
  padding: 0;
}

.map-page__frame {
  position: relative;
  height: 100%;
}

.map-page__overlay {
  position: absolute;
  top: rem(12);
  left: rem(12);
  z-index: 5;
  max-width: rem(520);
}

.map-page__overlay .ant-alert {
  box-shadow: var(--app-shadow-soft);
}

.map-page__overlay .ant-card {
  box-shadow: var(--app-shadow-soft);
}

.map-tools {
  border: 1px solid var(--app-border);
  background: linear-gradient(180deg, #ffffff 0%, #f8fafc 100%);
}

.map-tools__row {
  width: 100%;
  justify-content: space-between;
}

.map-tools__group .ant-btn {
  min-width: rem(92);
}

@media (max-width: 768px) {
  .map-page__card {
    height: calc(100vh - rem(64) - rem(24));
  }
}

@include tablet {
  .map-page__card {
    height: calc(100vh - rem(56) - rem(32));
  }
}

@include mobile {
  .map-page__card {
    height: calc(100vh - rem(52) - rem(24));
  }
}
